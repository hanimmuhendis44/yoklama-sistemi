<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YÃ¶netim Paneli - IÄŸdÄ±r Ãœniversitesi</title>
    <style>
        /* TASARIM KISMI */
        body { font-family: 'Segoe UI', sans-serif; background-color: #f4f6f8; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .card { background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 8px 20px rgba(0,0,0,0.1); width: 380px; }
        select { width: 100%; padding: 12px; margin: 8px 0 20px 0; border: 1px solid #ddd; border-radius: 6px; }
        label { font-weight: 600; color: #444; font-size: 0.9rem; }
        .btn-success { width: 100%; padding: 15px; background-color: #28a745; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1.1rem; font-weight: bold; margin-top: 20px; transition: 0.3s; }
        .btn-success:hover { background-color: #218838; }
        .radio-group { display: flex; gap: 10px; margin-top: 5px; }
        .radio-group input[type="radio"] { display: none; }
        .radio-box { flex: 1; text-align: center; padding: 10px; background: #f8f9fa; border: 1px solid #ddd; border-radius: 6px; cursor: pointer; font-weight: normal; }
        .radio-group input:checked + .radio-box { background: #e7f1ff; border-color: #007bff; color: #007bff; font-weight: bold; }
        .header { display: flex; justify-content: space-between; align-items: center; }
        .logout-btn { background: none; border: 1px solid #dc3545; color: #dc3545; padding: 5px 10px; border-radius: 5px; cursor: pointer; font-size: 0.8rem; }
        .footer { margin-top: 25px; text-align: center; font-size: 0.9rem; border-top: 1px solid #eee; padding-top: 15px; }
        .footer a { color: #6c757d; text-decoration: none; margin: 0 10px; }
        
        /* QR KUTUSU STÄ°LÄ° */
        #qrKutusu {
            margin-top: 25px;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px;
            border: 2px dashed #ddd; /* Ã‡erÃ§eve ekledim ki yerini gÃ¶r */
            border-radius: 10px;
            min-height: 160px;
            background-color: #fafafa;
        }
    </style>
</head>
<body>

    <div class="card admin-card">
        <div class="header">
            <div class="welcome-text">
                <h3>ğŸ‘‹ HoÅŸ Geldiniz</h3>
                <span class="hoca-adi">SayÄ±n Hocam</span>
            </div>
            <button onclick="window.location.href='index.html'" class="logout-btn">Ã‡Ä±kÄ±ÅŸ Yap</button>
        </div>
        <hr>

        <div class="content">
            <label for="dersSelect">ğŸ“Œ Yoklama AlÄ±nacak Ders:</label>
            <select id="dersSelect">
                <option value="">-- Bir Ders SeÃ§iniz --</option>
                <option value="BIL101">Algoritma ve Programlama</option>
                <option value="BIL202">Veri YapÄ±larÄ±</option>
                <option value="BIL305">Web TasarÄ±m</option>
            </select>

            <label>â±ï¸ Yoklama SÃ¼resi:</label>
            <div class="radio-group">
                <input type="radio" id="sure5" name="sure" value="5" checked>
                <label for="sure5" class="radio-box">5 dk</label>

                <input type="radio" id="sure10" name="sure" value="10">
                <label for="sure10" class="radio-box">10 dk</label>

                <input type="radio" id="sure15" name="sure" value="15">
                <label for="sure15" class="radio-box">15 dk</label>
            </div>

            <button onclick="qrOlustur()" class="btn-success">ğŸ”³ QR Kod OluÅŸtur</button>
            
            <div id="qrKutusu">
                <span style="color: #aaa; font-size: 0.8rem;">QR Kod burada gÃ¶rÃ¼necek...</span>
            </div>
        </div>

        <div class="footer">
            <a href="#">ğŸ“‚ Ã–ÄŸrenci Listesi YÃ¼kle</a>
            <a href="#">ğŸ“Š  Devam Raporu</a>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

    <script>
        function qrOlustur() {
            const ders = document.getElementById("dersSelect").value;
            const qrKutusu = document.getElementById("qrKutusu");

            // Hata KontrolÃ¼ 1: Ders SeÃ§ildi mi?
            if (ders === "") {
                alert("âš ï¸ LÃ¼tfen Ã¶nce bir ders seÃ§iniz!");
                return;
            }

            // Hata KontrolÃ¼ 2: Ä°nternet var mÄ±, kÃ¼tÃ¼phane yÃ¼klendi mi?
            if (typeof QRCode === 'undefined') {
                alert("âŒ HATA: QR Kod kÃ¼tÃ¼phanesi yÃ¼klenemedi! Ä°nternet baÄŸlantÄ±nÄ±zÄ± kontrol edin.");
                return;
            }

            // Kutuyu Temizle
            qrKutusu.innerHTML = "";

            // QR Kodu OluÅŸtur
            try {
                new QRCode(qrKutusu, {
                    text: ders + "-" + Math.random().toString(36).substring(7),
                    width: 150,
                    height: 150,
                    colorDark : "#000000",
                    colorLight : "#ffffff",
                    correctLevel : QRCode.CorrectLevel.H
                });
            } catch (error) {
                alert("Bir hata oluÅŸtu: " + error.message);
            }
        }
    </script>
</body>
</html>
